<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Gradio PDF Component</title><script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.8.335/pdf.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.8.335/pdf.worker.min.js"></script><style>.wrap{display:flex;flex-direction:column;justify-content:center;align-items:center;min-height:var(--size-60);color:var(--block-label-text-color);line-height:var(--line-md);height:100%;padding-top:var(--size-3);}.or{color:var(--body-text-color-subdued);display:flex;}.icon-wrap{width:30px;margin-bottom:var(--spacing-lg);}.pdf-canvas{display:flex;justify-content:center;align-items:center;}.button-row{display:flex;flex-direction:row;width:100%;justify-content:center;align-items:center;}.page-count{margin:0 10px;font-family:var(--font-mono);}</style></head><body><div class="wrap"><span class="icon-wrap" class:hovered><span class="or">- or -</span></span>Click to Upload</div><div class="pdf-canvas" style="height:{height}px"><canvas bind:this={canvasRef}></canvas></div><div class="button-row"><span class="page-count">{currentPage}/{numPages}</span></div><script>const pdfjsLib="pdfjsLib" in window?window.pdfjsLib:{GlobalWorkerOptions:{workerSrc:"https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.8.335/pdf.worker.min.js"}},pdfDoc=null,numPages=1,currentPage=1,canvasRef=null;async function get_doc(value){const loadingTask=pdfjsLib.getDocument(value.url);pdfDoc=await loadingTask.promise;numPages=pdfDoc.numPages,render_page()}function render_page(){pdfDoc.getPage(currentPage).then(page=>{const ctx=canvasRef.getContext('2d');ctx.clearRect(0,0,canvasRef.width,canvasRef.height);let viewport=page.getViewport({scale:1});viewport=page.getViewport({scale:height/viewport.height});const renderContext={canvasContext:ctx,viewport};canvasRef.width=viewport.width;canvasRef.height=viewport.height;page.render(renderContext)})}let _value=value;let old_value=_value;_value=normalise_file(value,root,proxy_url);if(JSON.stringify(old_value)!=JSON.stringify(_value)){if(_value){get_doc(_value)}old_value=_value;gradio.dispatch("change")}</script></body></html>